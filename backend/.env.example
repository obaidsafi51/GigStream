# ============================================
# GigStream Backend Environment Configuration
# ============================================

# ============================================
# DATABASE (PostgreSQL via Neon.tech)
# ============================================
# Get your connection string from: https://console.neon.tech
# Format: postgresql://[user]:[password]@[endpoint]/[database]?sslmode=require
DATABASE_URL="postgresql://user:password@ep-example-123456.us-east-2.aws.neon.tech/gigstream_db?sslmode=require"

# For connection pooling (recommended for serverless)
DATABASE_URL_POOLED="postgresql://user:password@ep-example-123456-pooler.us-east-2.aws.neon.tech/gigstream_db?sslmode=require"

# ============================================
# ARC BLOCKCHAIN (Circle's Testnet)
# ============================================
ARC_RPC_URL="https://rpc.testnet.arc.network"
ARC_CHAIN_ID="5042002"
ARC_EXPLORER_URL="https://explorer.circle.com/arc-testnet"

# Deployer wallet private key (for smart contract deployment)
# Generate using: node scripts/generate-deployer-wallet.mjs
DEPLOYER_PRIVATE_KEY="0x..."

# ============================================
# CIRCLE APIs (Developer-Controlled Wallets)
# ============================================
# Get your API key from: https://console.circle.com/
# Follow: https://developers.circle.com/wallets/dev-controlled/create-your-first-wallet
CIRCLE_API_KEY="TEST_API_KEY:..."

# Entity Secret for Circle API (create in Circle Console)
CIRCLE_ENTITY_SECRET="..."

# Circle API Base URL
CIRCLE_API_BASE_URL="https://api.circle.com"

# ============================================
# AUTHENTICATION & SECURITY
# ============================================
# Generate a secure random string for JWT signing
# Example: openssl rand -base64 32
JWT_SECRET="your-super-secret-jwt-key-change-this-in-production"

# JWT expiration times
JWT_ACCESS_TOKEN_EXPIRY="15m"
JWT_REFRESH_TOKEN_EXPIRY="7d"

# API rate limiting
RATE_LIMIT_MAX_REQUESTS="100"
RATE_LIMIT_WINDOW_MS="60000"

# ============================================
# APPLICATION SETTINGS
# ============================================
NODE_ENV="development"
API_PORT="3001"
API_BASE_URL="http://localhost:3001"

# Log level: debug | info | warn | error
LOG_LEVEL="debug"

# ============================================
# SMART CONTRACTS (Deployed Addresses)
# ============================================
# These will be populated after deployment (Task 2.4)
CONTRACT_PAYMENT_STREAMING=""
CONTRACT_REPUTATION_LEDGER=""
CONTRACT_MICRO_LOAN=""

# ============================================
# CLOUDFLARE WORKERS (Production)
# ============================================
# Cloudflare Account ID (from dashboard)
CLOUDFLARE_ACCOUNT_ID=""

# Cloudflare Workers subdomain
WORKERS_SUBDOMAIN="gigstream"

# ============================================
# MONITORING & OBSERVABILITY (Optional)
# ============================================
# Sentry DSN for error tracking
SENTRY_DSN=""

# Analytics/monitoring endpoint
ANALYTICS_ENDPOINT=""

# ============================================
# FEATURE FLAGS
# ============================================
ENABLE_PAYMENT_STREAMING="true"
ENABLE_MICRO_LOANS="true"
ENABLE_AI_VERIFICATION="false"
ENABLE_DEMO_MODE="true"

# ============================================
# DEMO/TESTING SETTINGS
# ============================================
# Enable demo endpoints
DEMO_MODE_ENABLED="true"

# Testnet USDC contract address (Arc testnet)
TESTNET_USDC_ADDRESS="0x..."

# ============================================
# WEBHOOKS
# ============================================
# Webhook timeout (ms)
WEBHOOK_TIMEOUT="5000"

# Webhook retry attempts
WEBHOOK_MAX_RETRIES="3"
